# OpenSPP Docker Environment Configuration
# Copy this file to .env and adjust values as needed

# Version Configuration
OPENSPP_VERSION=17.0.1+odoo17.0-1
DOCKERFILE=Dockerfile  # or Dockerfile.slim for lightweight image

# Database Configuration
DB_HOST=db
DB_PORT=5432
DB_USER=openspp
DB_PASSWORD=changeme_db_password
DB_NAME=openspp

# Admin Configuration
ADMIN_PASSWORD=changeme_admin_password
LIST_DB=False  # Set to False in production

# Logging
LOG_LEVEL=info  # debug, info, warn, error, critical

# Performance Tuning
# CRITICAL: Workers MUST be > 0 for queue_job to function (minimum 2 for production)
WORKERS=2  # 0 only for development (disables queue_job), 2-4 per CPU for production
MAX_CRON_THREADS=2
LIMIT_MEMORY_HARD=2684354560  # 2.5GB in bytes
LIMIT_MEMORY_SOFT=2147483648  # 2GB in bytes
LIMIT_TIME_CPU=60
LIMIT_TIME_REAL=120

# Proxy Configuration
PROXY_MODE=False  # Set to True when behind nginx/apache

# Development Options
DEV_MODE=false
WITHOUT_DEMO=false
INIT_DATABASE=false  # Set to true for first run

# Module Management
INSTALL_MODULES=  # Comma-separated list: base,crm,sale
UPDATE_MODULES=   # Comma-separated list: all

# Docker Registry (for CI/CD)
REGISTRY=docker.io
PROD_REGISTRY=nexus.openspp.org

# Build Metadata
BUILD_DATE=
VCS_REF=